<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–§–∞–±—Ä–∏–∫–∞ —Å–Ω–∞ ‚Äî –ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
body {
    font-family: 'Segoe UI', sans-serif;
    text-align: center;
    background: linear-gradient(135deg, #0f1c3f, #1e3a8a);
    color: white;
    margin: 0;
}

.logo {
    margin-top: 25px;
}

.logo img {
    max-width: 280px;
}

h1 {
    margin-top: 15px;
}

input {
    padding: 10px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    margin-top: 10px;
    text-align: center;
}

#wheel-container {
    position: relative;
    width: 520px;
    height: 520px;
    margin: 30px auto;
}

#wheel {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 10px solid gold;
    box-shadow: 0 0 40px rgba(255, 215, 0, 0.5);
    transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
    position: relative;
}

.label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform-origin: center;
    font-size: 13px;
    font-weight: bold;
    white-space: nowrap;
}

.pointer {
    width: 0;
    height: 0;
    border-left: 22px solid transparent;
    border-right: 22px solid transparent;
    border-bottom: 45px solid gold;
    margin: auto;
}

button {
    padding: 15px 50px;
    font-size: 18px;
    background: gold;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    margin-top: 20px;
}

#winnerPopup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: gold;
    color: black;
    padding: 40px;
    font-size: 26px;
    font-weight: bold;
    border-radius: 20px;
    display: none;
    z-index: 999;
}
</style>
</head>
<body>

<div class="logo">
    <img src="logo.png">
</div>

<h1>üéØ –õ—É—á—à–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –Ω–µ–¥–µ–ª–∏</h1>

<input type="text" id="managerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è">

<div class="pointer"></div>

<div id="wheel-container">
    <div id="wheel"></div>
</div>

<button id="spinBtn" onclick="spin()">–ö—Ä—É—Ç–∏—Ç—å</button>

<div id="winnerPopup"></div>

<audio id="drumSound" src="https://www.soundjay.com/misc/sounds/drum-roll-1.mp3"></audio>

<script>
const prizes = [
"‚≠ê –°—É–ø–µ—Ä: –£–∏–∫–µ–Ω–¥",
"üêé –ö–æ–Ω–Ω—ã–π —Ç—É—Ä",
"üíÜ SPA-–¥–µ–Ω—å",
"–û–±–µ–¥ –Ω–µ–¥–µ–ª—è",
"–¢–∞–∫—Å–∏ –Ω–µ–¥–µ–ª—è",
"–£–∂–∏–Ω —Ä–µ—Å—Ç–æ—Ä–∞–Ω",
"–ë–æ—É–ª–∏–Ω–≥",
"–ö–∏–Ω–æ VIP",
"–ö–∞—Ä—Ç–∏–Ω–≥",
"–ö–∞—Ä–∞–æ–∫–µ",
"–í—ã—Ö–æ–¥–Ω–æ–π",
"–¢—É—Ä –ö–µ—Ç—Ç–∏–∫"
];

const colors = [
"#1e40af","#2563eb","#1d4ed8","#3b82f6",
"#1e3a8a","#1e40af","#2563eb","#1d4ed8",
"#3b82f6","#1e3a8a","#1e40af","#0f172a"
];

const wheel = document.getElementById("wheel");
const drumSound = document.getElementById("drumSound");

const segmentAngle = 360 / prizes.length;

/* –†–∏—Å—É–µ–º –∫–æ–ª–µ—Å–æ */
let gradient = "conic-gradient(";
for (let i = 0; i < prizes.length; i++) {
    gradient += colors[i] + " " + (i * segmentAngle) + "deg " + ((i + 1) * segmentAngle) + "deg";
    if (i < prizes.length - 1) gradient += ",";
}
gradient += ")";
wheel.style.background = gradient;

/* –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å–∏ */
prizes.forEach((prize, i) => {

    const label = document.createElement("div");
    label.className = "label";
    label.innerText = prize;

    const angle = i * segmentAngle + segmentAngle / 2;

   label.style.transform = `
    rotate(${angle}deg)
    translate(210px)
    rotate(90deg)
`;

    wheel.appendChild(label);
});

let currentRotation = 0;
let hasSpun = false;

function spin() {

    if (hasSpun) return;

    const name = document.getElementById("managerName").value;
    if (!name) {
        alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è!");
        return;
    }

    hasSpun = true;
    document.getElementById("spinBtn").disabled = true;

    drumSound.play();

    const randomIndex = Math.floor(Math.random() * prizes.length);
    const extraSpins = 5;

    const finalAngle = (360 * extraSpins) +
        (360 - (randomIndex * segmentAngle) - segmentAngle / 2);

    currentRotation += finalAngle;
    wheel.style.transform = `rotate(${currentRotation}deg)`;

    setTimeout(() => {

        drumSound.pause();

        const popup = document.getElementById("winnerPopup");
        popup.innerHTML = "üéâ " + name + " –ø–æ–ª—É—á–∞–µ—Ç: " + prizes[randomIndex];
        popup.style.display = "block";

        confetti({
            particleCount: 250,
            spread: 120,
            origin: { y: 0.6 }
        });

    }, 4000);
}
</script>

</body>
</html>


